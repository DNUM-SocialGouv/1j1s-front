@use "@styles/utilities-deprecated";

.combobox {
  // TODO (GAFI 27-06-2023): mettre en commun le style avec le composant d'input et de select
  position: relative;
  width: fit-content;

  --border-radius: 1.25rem;
  border: 1px solid utilities-deprecated.$color-combobox-border;
  border-radius: var(--border-radius);

  & input {
    background-color: transparent;
    border: none;
    padding: 0.5rem 1rem;
  }
  & button {
    vertical-align: middle;
    & svg {
      vertical-align: bottom;
      transition: transform 75ms ease-in-out;
    }
    &[aria-expanded="true"] svg {
      transform: rotate(-180deg);
    }
  }

  @extend %outlined;
  & input,
  & button {
    @extend %no-outline
  }

  & ul[role="listbox"] {
    z-index: 1;
    position: absolute;
    width: 100%;
    border: 1px solid utilities-deprecated.$color-combobox-list-border;
    border-radius: var(--border-radius);
    background-color: utilities-deprecated.$color-combobox-list-background;
    margin-top: 4px;

    max-height: 10em;
    overflow-y: scroll;

    & li[role="option"] {
      padding: .25rem 1ch;
      cursor: pointer;

      &:hover,
      &[aria-selected="true"] {
        background-color: utilities-deprecated.$color-combobox-option-hover;
      }
    }
  }
}
