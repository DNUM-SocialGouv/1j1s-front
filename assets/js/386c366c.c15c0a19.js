"use strict";(self.webpackChunk_1_j_1_s_front_docs=self.webpackChunk_1_j_1_s_front_docs||[]).push([[722],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>k});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=a.createContext({}),u=function(e){var t=a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(o.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=u(n),d=r,k=m["".concat(o,".").concat(d)]||m[d]||c[d]||l;return n?a.createElement(k,i(i({ref:t},p),{},{components:n})):a.createElement(k,i({ref:t},p))}));function k(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[m]="string"==typeof e?e:r,i[1]=s;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5725:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var a=n(7462),r=(n(7294),n(3905));const l={},i="Standards d'\xe9quipe",s={unversionedId:"standards",id:"standards",title:"Standards d'\xe9quipe",description:"Ahoy \ud83d\udc4b",source:"@site/docs/standards.md",sourceDirName:".",slug:"/standards",permalink:"/1j1s-front/docs/standards",draft:!1,editUrl:"https://github.com/DNUM-SocialGouv/1j1s-front/tree/main/docs/docs/docs/standards.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Installation pour le d\xe9veloppement sur 1j1s-front",permalink:"/1j1s-front/docs/installation"}},o={},u=[{value:"Git",id:"git",level:2},{value:"Commits",id:"commits",level:3},{value:"Branching",id:"branching",level:2},{value:"Versioning",id:"versioning",level:3},{value:"Strat\xe9gie de test",id:"strat\xe9gie-de-test",level:2},{value:"Code",id:"code",level:2},{value:"Langue",id:"langue",level:3},{value:"Fonctions",id:"fonctions",level:3},{value:"Nommage des fichiers et dossiers",id:"nommage-des-fichiers-et-dossiers",level:3},{value:"Nommage des collections",id:"nommage-des-collections",level:3}],p={toc:u},m="wrapper";function c(e){let{components:t,...n}=e;return(0,r.kt)(m,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"standards-d\xe9quipe"},"Standards d'\xe9quipe"),(0,r.kt)("p",null,"Ahoy \ud83d\udc4b\nAfin de garder une base de code homog\xe8ne, merci de respecter ces quelques standards."),(0,r.kt)("h2",{id:"git"},"Git"),(0,r.kt)("h3",{id:"commits"},"Commits"),(0,r.kt)("p",null,"Nous suivons ",(0,r.kt)("a",{parentName:"p",href:"https://conventionalcommits.org/"},"conventional commits"),"\nLes types de commit sont donc\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"feat"),"\xa0: nouvelle fonctionnalit\xe9"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"fix"),"\xa0: correction d'un bug"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"build"),"\xa0: changements du syst\xe8me de build ou de d\xe9pendances"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"chore"),"\xa0: autre changement qui ne modifie ni fichier src, ni fichier test"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"ci"),"\xa0: changement \xe0 la configuration de la CI"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"docs"),"\xa0: changement sur la documentation"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"style"),"\xa0: changement n'affectant pas le sens du code (espace, point-virgule, format, etc.)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"refactor"),"\xa0: changement qui ne corrige pas de bug ou n'ajoute pas une nouvelle fonctionnalit\xe9"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"perf"),"\xa0: changement qui am\xe9liore les performances"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"test"),"\xa0: ajoute ou corrige un test"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"revert"),"\xa0: annule un pr\xe9c\xe9dent changement")),(0,r.kt)("p",null,"Les messages de commit sont r\xe9dig\xe9s en fran\xe7ais et doivent \xeatre autoportants. Chaque commit doit assurer que\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"l'application fonctionne"),(0,r.kt)("li",{parentName:"ul"},"le linter passe"),(0,r.kt)("li",{parentName:"ul"},"les tests passent")),(0,r.kt)("p",null,"D\xe8s que cela est possible, pr\xe9ciser le contexte pour chaque commit, en lettres minuscules. Cela peut \xeatre une fonctionnalit\xe9, un composant transverse, de l'interface ou une exigence non fonctionnelle. "),(0,r.kt)("p",null,"Liste des contextes de ",(0,r.kt)("strong",{parentName:"p"},"fonctionnalit\xe9s")," autoris\xe9es (non exhaustive)\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"emplois"),(0,r.kt)("li",{parentName:"ul"},"stages"),(0,r.kt)("li",{parentName:"ul"},"alternance"),(0,r.kt)("li",{parentName:"ul"},"jobs \xe9tudiants"),(0,r.kt)("li",{parentName:"ul"},"jobs d'\xe9t\xe9"),(0,r.kt)("li",{parentName:"ul"},"emplois europe"),(0,r.kt)("li",{parentName:"ul"},"formations"),(0,r.kt)("li",{parentName:"ul"},"metiers (pour d\xe9couvrir les m\xe9tiers)"),(0,r.kt)("li",{parentName:"ul"},"\xe9v\xe8nement"),(0,r.kt)("li",{parentName:"ul"},"cej (pour contrat engagement jeune)"),(0,r.kt)("li",{parentName:"ul"},"aides"),(0,r.kt)("li",{parentName:"ul"},"logement"),(0,r.kt)("li",{parentName:"ul"},"mentorat"),(0,r.kt)("li",{parentName:"ul"},"entreprendre"),(0,r.kt)("li",{parentName:"ul"},"accompagnement"),(0,r.kt)("li",{parentName:"ul"},"services jeunes"),(0,r.kt)("li",{parentName:"ul"},"b\xe9n\xe9volat"),(0,r.kt)("li",{parentName:"ul"},"actualit\xe9s"),(0,r.kt)("li",{parentName:"ul"},"employeur"),(0,r.kt)("li",{parentName:"ul"},"sitemap"),(0,r.kt)("li",{parentName:"ul"},"robots")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"exemple\xa0: ",(0,r.kt)("inlineCode",{parentName:"em"},"feat(sitemap): ajout des offres de stages au sitemap"))),(0,r.kt)("p",null,"Exemple de composants transverses (non exhaustive)\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"header")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"footer")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"nav")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"exemple\xa0: ",(0,r.kt)("inlineCode",{parentName:"em"},"refactor(nav): g\xe9n\xe9ration du menu \xe0 partir d'un fichier de configuration"))))),(0,r.kt)("p",null,"Dans le cas de changement de style, pr\xe9f\xe9rer\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"ui")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"exemple\xa0: ",(0,r.kt)("inlineCode",{parentName:"em"},"feat(ui): mise \xe0 jour du style des champs texte"))),(0,r.kt)("p",null,"Exigences non fonctionnelles (non exhaustive)\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"meilisearch"),(0,r.kt)("li",{parentName:"ul"},"deps")),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"exemple\xa0: ",(0,r.kt)("inlineCode",{parentName:"em"},"chore(deps): mise \xe0 jour des d\xe9pendances"))),(0,r.kt)("h2",{id:"branching"},"Branching"),(0,r.kt)("p",null,"Pour une parfaite int\xe9gration avec Jira, une branche li\xe9e \xe0 une user story doit comporter le num\xe9ro du ticket. Ex\xa0:\n",(0,r.kt)("em",{parentName:"p"},"exemple\xa0:",(0,r.kt)("inlineCode",{parentName:"em"},"feat/UNJ1S-1307-Afficher-les-statistiques-d-une-formation-avec-InserJeunes"))),(0,r.kt)("p",null,"Les branches peuvent \xeatre merg\xe9es selon 2 m\xe9thodes\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"squash"),(0,r.kt)("li",{parentName:"ul"},"rebase and merge\nDans les 2 cas, les titres et descriptions des commit finaux doivent respecter nos ",(0,r.kt)("a",{parentName:"li",href:"#commits"},"standards"),". A chaque commit, l'application doit donc fonctionner, les tests et le linter passer.")),(0,r.kt)("h3",{id:"versioning"},"Versioning"),(0,r.kt)("p",null,"Nous respectons le ",(0,r.kt)("a",{parentName:"p",href:"https://semver.org"},"Semantic Versioning"),"\nUne fois une branche merg\xe9e dans main, une Pull Request de release est automatiquement ouverte avec un commit de release pour\xa0:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"monter la version dans les ",(0,r.kt)("inlineCode",{parentName:"li"},"package.json")," et ",(0,r.kt)("inlineCode",{parentName:"li"},"package-lock.json")," selon les changements apport\xe9s par les pr\xe9c\xe9dents commits,"),(0,r.kt)("li",{parentName:"ul"},"ajouter un tag de version de la forme ",(0,r.kt)("inlineCode",{parentName:"li"},"vX.Y.Z")),(0,r.kt)("li",{parentName:"ul"},"mettre \xe0 jour le changelog en reprenant les messages de commits pr\xe9c\xe9dents")),(0,r.kt)("h2",{id:"strat\xe9gie-de-test"},"Strat\xe9gie de test"),(0,r.kt)("p",null,"Nous favorisons des tests unitaires autant que possible, rapides \xe0 ex\xe9cuter. Les tests de composants via React Testing Library compl\xe8tent ces tests afin de tester l'affichage, par l'",(0,r.kt)("strong",{parentName:"p"},"arbre d'accessibilit\xe9")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"tests unitaires autant que possible"),(0,r.kt)("li",{parentName:"ul"},"tests d'int\xe9gration sur les endpoints API"),(0,r.kt)("li",{parentName:"ul"},"tests de composants via React Testing Library sur les composants comportant de la logique d'affichage, de la validation (formulaires) et r\xe9cup\xe9ration de donn\xe9es"),(0,r.kt)("li",{parentName:"ul"},"tests end-to-end pour simuler un workflow complet utilisateur sur une fonctionnalit\xe9. Exemple : recherche d'une offre d'emploi puis consultation du d\xe9tail d'une offre")),(0,r.kt)("h2",{id:"code"},"Code"),(0,r.kt)("h3",{id:"langue"},"Langue"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"les objets m\xe9tiers sont en ",(0,r.kt)("strong",{parentName:"li"},"fran\xe7ais")),(0,r.kt)("li",{parentName:"ul"},"les intitul\xe9s de test sont en ",(0,r.kt)("strong",{parentName:"li"},"fran\xe7ais")),(0,r.kt)("li",{parentName:"ul"},"Le reste du code est en ",(0,r.kt)("strong",{parentName:"li"},"anglais"))),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"exemple\xa0: ",(0,r.kt)("inlineCode",{parentName:"em"},"getJob\xc9tudiant"),", ",(0,r.kt)("inlineCode",{parentName:"em"},"OffreEmploi"),", ",(0,r.kt)("inlineCode",{parentName:"em"},'it("r\xe9cup\xe8re la liste des alternances", () => ...)'))),(0,r.kt)("h3",{id:"fonctions"},"Fonctions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"privil\xe9gier les fonctions nomm\xe9es et avec le constructeur ",(0,r.kt)("inlineCode",{parentName:"li"},"function")," au lieu des arrow functions ",(0,r.kt)("inlineCode",{parentName:"li"},"() => ")),(0,r.kt)("li",{parentName:"ul"},"nommer la callback des useEffect"),(0,r.kt)("li",{parentName:"ul"},"pr\xe9ciser le type de sortie de fonction")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"useEffect(function myFunction() {\n  /*  contenu de la fonction */\n}, []);\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"function mapOffreStage(response: Strapi.CollectionType.OffreStage): OffreDeStage {\n  return { ... };\n}\n")),(0,r.kt)("h3",{id:"nommage-des-fichiers-et-dossiers"},"Nommage des fichiers et dossiers"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"composant, style\xa0: PascalCase, ",(0,r.kt)("inlineCode",{parentName:"li"},"ButtonPrimary.tsx"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"ButtonPrimary.module.scss")),(0,r.kt)("li",{parentName:"ul"},"tout le reste\xa0: camelCase, ",(0,r.kt)("inlineCode",{parentName:"li"},"httpClient.service.ts"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"offreEmploi.ts"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"offreEmploi.repository.ts"))),(0,r.kt)("p",null,"Plus d'info sur ",(0,r.kt)("a",{parentName:"p",href:"./architecture#structure"},"l'arborescence des dossiers")),(0,r.kt)("h3",{id:"nommage-des-collections"},"Nommage des collections"),(0,r.kt)("p",null,"Une variable repr\xe9sentant une collection sera suffix\xe9e par le mot ",(0,r.kt)("inlineCode",{parentName:"p"},"List")," afin d'\xe9viter le pluriel, parfois en conflit avec des mots invariables"),(0,r.kt)("p",null,"_exemple: ",(0,r.kt)("inlineCode",{parentName:"p"},"const offreEmploiList: Array<OffreEmploi> = [...]")))}c.isMDXComponent=!0}}]);