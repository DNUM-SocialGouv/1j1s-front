"use strict";(self.webpackChunk_1j1s_front_docs=self.webpackChunk_1j1s_front_docs||[]).push([[675],{4833:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>d});var o=r(4848),i=r(8453);const s={sidebar_label:"Pr\xe9requis d'installation",sidebar_position:1},t="Installation pour le d\xe9veloppement sur 1j1s-front",l={id:"onboarding/prerequis",title:"Installation pour le d\xe9veloppement sur 1j1s-front",description:"20 Avril 2023",source:"@site/docs/onboarding/prerequis.md",sourceDirName:"onboarding",slug:"/onboarding/prerequis",permalink:"/1j1s-front/docs/onboarding/prerequis",draft:!1,unlisted:!1,editUrl:"https://github.com/DNUM-SocialGouv/1j1s-front/tree/main/docs/docs/docs/onboarding/prerequis.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Pr\xe9requis d'installation",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\ud83c\udf31 Onboarding",permalink:"/1j1s-front/docs/category/-onboarding"},next:{title:"Lancer le front",permalink:"/1j1s-front/docs/onboarding/installation"}},c={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Pr\xe9-requis",id:"pr\xe9-requis",level:2},{value:"Pour aller plus loin dans l&#39;\xe9cosyst\xe8me 1j1s (optionnel)",id:"pour-aller-plus-loin-dans-l\xe9cosyst\xe8me-1j1s-optionnel",level:2},{value:"Pr\xe9-requis pour avoir un environnement local pleinement fonctionnel",id:"pr\xe9-requis-pour-avoir-un-environnement-local-pleinement-fonctionnel",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"installation-pour-le-d\xe9veloppement-sur-1j1s-front",children:"Installation pour le d\xe9veloppement sur 1j1s-front"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"20 Avril 2023"})}),"\n",(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsx)(n.p,{children:"Ce document relate les diff\xe9rents pr\xe9requis permettant l'installation du projet."}),"\n",(0,o.jsx)(n.h2,{id:"pr\xe9-requis",children:"Pr\xe9-requis"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://www.npmjs.com/",children:"npm"})," version 9, ",(0,o.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm",children:"nvm"})," recommand\xe9"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://nodejs.org/fr/",children:"NodeJS"}),", version 18"]}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.docker.com/desktop/",children:"Docker"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.docker.com/compose/",children:"docker-compose"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/DNUM-SocialGouv/1j1s-main-cms",children:"CMS principal"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"pour-aller-plus-loin-dans-l\xe9cosyst\xe8me-1j1s-optionnel",children:"Pour aller plus loin dans l'\xe9cosyst\xe8me 1j1s (optionnel)"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/DNUM-SocialGouv/1j1s-test-charge",children:"Projet test de performances"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/DNUM-SocialGouv/1j1s-front-lighthouse-report",children:"Projet test lighthouse automatis\xe9"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/DNUM-SocialGouv/1j1s-stage-orchestrateur-transform-load",children:"Projet chargement de donn\xe9es"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"pr\xe9-requis-pour-avoir-un-environnement-local-pleinement-fonctionnel",children:"Pr\xe9-requis pour avoir un environnement local pleinement fonctionnel"}),"\n",(0,o.jsx)(n.p,{children:"Il faut avoir :"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["lanc\xe9 le projet 1j1s-main-cms et peupl\xe9 les donn\xe9es via les scripts ",(0,o.jsx)(n.code,{children:"npm run docker:populate"})," et ",(0,o.jsx)(n.code,{children:"npm run docker:start"}),"  (voir documentation sur le repo concern\xe9)"]}),"\n",(0,o.jsxs)(n.li,{children:["synchronis\xe9 la configuration sur l'interface d'administration du CMS / Strapi (",(0,o.jsx)(n.code,{children:"Settings -> Config sync -> Interface"}),'-> Cliquer sur "Import")']}),"\n",(0,o.jsxs)(n.li,{children:["dans Strapi (",(0,o.jsx)(n.code,{children:"Content-Manager -> Collection Types -> User"}),"), r\xe9cup\xe9r\xe9 les credentials de l'utilisateur 1j1s avec role formulaire pour renseigner la variable d'environnement ",(0,o.jsx)(n.code,{children:"STRAPI_AUTH"})," du projet 1j1s-front"]}),"\n",(0,o.jsxs)(n.li,{children:["lanc\xe9 meilisearch et renseign\xe9 la master key avec la m\xeame valeur que la variable d'env ",(0,o.jsx)(n.code,{children:"NEXT_PUBLIC_STAGE_SEARCH_ENGINE_API_KEY"}),"\nExemple : pour - ",(0,o.jsx)(n.code,{children:"MEILI_MASTER_KEY=${MEILI_MASTER_KEY:-masterKey}"})," dans ",(0,o.jsx)(n.code,{children:"docker-compose.yml"})," du projet 1j1s-main-cms -> il faut avoir ",(0,o.jsx)(n.code,{children:"NEXT_PUBLIC_STAGE_SEARCH_ENGINE_API_KEY=masterKey"})," dans ",(0,o.jsx)(n.code,{children:".env"})," du projet 1j1s-front"]}),"\n",(0,o.jsx)(n.li,{children:"index\xe9 les collections du CMS via le plugin Meilisearch = cocher les collections \xe0 indexer (logements, offre de stages, fiches metiers...) sur interface Strapi"}),"\n",(0,o.jsxs)(n.li,{children:["Ajouter la ligne suivante au fichier ",(0,o.jsx)(n.code,{children:"/etc/hosts"})," :"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"127.0.0.1       minio\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var o=r(6540);const i={},s=o.createContext(i);function t(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);